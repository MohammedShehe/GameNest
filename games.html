<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="assets/images/logo.png" type="image/png">
    <title>GameNest - Games</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* Base Styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-color: #6c5ce7;
            --secondary-color: #a29bfe;
            --accent-color: #fd79a8;
            --dark-color: #2d3436;
            --light-color: #dfe6e9;
            --success-color: #00b894;
            --warning-color: #fdcb6e;
            --danger-color: #e17055;
            --card-bg: rgba(255, 255, 255, 0.1);
            --card-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            --border-radius: 16px;
            --transition: all 0.3s ease;
        }

        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap');

        body {
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            min-height: 100vh;
            overflow-x: hidden;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        /* Header Styles */
        .page-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 0;
            margin-bottom: 30px;
        }

        .header-center h1 {
            font-size: 1.8rem;
            font-weight: 600;
            text-align: center;
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
        }

        .btn-back, .btn-exit {
            background: var(--card-bg);
            border: none;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.2rem;
            cursor: pointer;
            transition: var(--transition);
            backdrop-filter: blur(10px);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        .btn-back:hover, .btn-exit:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
            background: rgba(255, 255, 255, 0.2);
        }

        /* Games Page Specific Styles */
        .games-content {
            flex: 1;
            padding: 20px 0;
        }

        .games-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 25px;
            padding: 10px 0;
        }

        .game-card {
            background: var(--card-bg);
            backdrop-filter: blur(10px);
            border-radius: var(--border-radius);
            padding: 25px 20px;
            text-align: center;
            transition: var(--transition);
            cursor: pointer;
            position: relative;
            overflow: hidden;
            box-shadow: var(--card-shadow);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .game-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 5px;
            background: linear-gradient(90deg, var(--primary-color), var(--accent-color));
            transform: scaleX(0);
            transition: transform 0.3s ease;
        }

        .game-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.2);
        }

        .game-card:hover::before {
            transform: scaleX(1);
        }

        .game-icon {
            width: 80px;
            height: 80px;
            margin: 0 auto 15px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2.2rem;
            transition: var(--transition);
        }

        .game-card:hover .game-icon {
            transform: scale(1.1) rotate(5deg);
            background: rgba(255, 255, 255, 0.15);
        }

        .game-card h3 {
            font-size: 1.4rem;
            margin-bottom: 10px;
            font-weight: 600;
        }

        .game-card p {
            font-size: 0.9rem;
            opacity: 0.8;
            line-height: 1.5;
        }

        .game-badge {
            position: absolute;
            top: 15px;
            right: 15px;
            background: var(--accent-color);
            color: white;
            font-size: 0.7rem;
            padding: 4px 10px;
            border-radius: 20px;
            font-weight: 500;
        }

        /* Game-specific icon colors */
        .game-card[data-game="snake"] .game-icon {
            color: #00b894;
        }

        .game-card[data-game="draft"] .game-icon {
            color: #0984e3;
        }

        .game-card[data-game="ludo"] .game-icon {
            color: #e17055;
        }

        .game-card[data-game="matchingcards"] .game-icon {
            color: #6c5ce7;
        }

        .game-card[data-game="fruitsmatching"] .game-icon {
            color: #00b894;
        }

        .game-card[data-game="cup-shuffle"] .game-icon {
            color: #fd79a8;
        }

        /* Enhanced Bot Assistant Styles */
        .bot-container {
            position: fixed;
            bottom: 30px;
            right: 30px;
            z-index: 1000;
        }

        .bot-toggle {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            border: none;
            color: white;
            font-size: 1.8rem;
            cursor: pointer;
            box-shadow: 0 4px 20px rgba(108, 92, 231, 0.4);
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
            animation: pulse 2s infinite;
        }

        .bot-toggle:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 25px rgba(108, 92, 231, 0.6);
        }

        .bot-assistant {
            position: absolute;
            bottom: 80px;
            right: 0;
            width: 350px;
            background: var(--card-bg);
            backdrop-filter: blur(15px);
            border-radius: var(--border-radius);
            box-shadow: var(--card-shadow);
            overflow: hidden;
            transform: translateY(20px);
            opacity: 0;
            visibility: hidden;
            transition: var(--transition);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .bot-assistant.active {
            transform: translateY(0);
            opacity: 1;
            visibility: visible;
        }

        .bot-header {
            padding: 15px 20px;
            background: rgba(0, 0, 0, 0.2);
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .bot-header h3 {
            font-size: 1.2rem;
            font-weight: 600;
        }

        .bot-header a {
            color: var(--accent-color);
            text-decoration: none;
        }

        .bot-header a:hover {
            text-decoration: underline;
        }

        .bot-close {
            background: none;
            border: none;
            color: white;
            font-size: 1.2rem;
            cursor: pointer;
            transition: var(--transition);
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .bot-close:hover {
            transform: rotate(90deg);
            background: rgba(255, 255, 255, 0.1);
        }

        .bot-content {
            padding: 20px;
        }

        .bot-messages {
            margin-bottom: 20px;
            max-height: 200px;
            overflow-y: auto;
            padding-right: 5px;
        }

        .bot-messages::-webkit-scrollbar {
            width: 4px;
        }

        .bot-messages::-webkit-scrollbar-thumb {
            background: rgba(255, 255, 255, 0.2);
            border-radius: 10px;
        }

        .bot-message {
            background: rgba(255, 255, 255, 0.1);
            padding: 12px 16px;
            border-radius: 12px;
            margin-bottom: 10px;
            border-left: 3px solid var(--primary-color);
        }

        .bot-message p {
            font-size: 0.9rem;
            line-height: 1.4;
            margin: 0;
        }

        .typing-indicator {
            display: inline-block;
            margin-left: 5px;
        }

        .typing-dot {
            display: inline-block;
            width: 6px;
            height: 6px;
            border-radius: 50%;
            background-color: white;
            margin: 0 2px;
            opacity: 0.6;
            animation: typing 1.4s infinite ease-in-out;
        }

        .typing-dot:nth-child(1) {
            animation-delay: 0s;
        }

        .typing-dot:nth-child(2) {
            animation-delay: 0.2s;
        }

        .typing-dot:nth-child(3) {
            animation-delay: 0.4s;
        }

        /* Enhanced Bot Questions Styling */
        .bot-questions {
            display: flex;
            flex-direction: column;
            gap: 8px;
            max-height: 300px;
            overflow-y: auto;
            padding-right: 5px;
        }

        .bot-questions::-webkit-scrollbar {
            width: 4px;
        }

        .bot-questions::-webkit-scrollbar-thumb {
            background: rgba(255, 255, 255, 0.2);
            border-radius: 10px;
        }

        .bot-question {
            background: rgba(255, 255, 255, 0.1);
            border: none;
            padding: 12px 16px;
            border-radius: 12px;
            color: white;
            text-align: left;
            cursor: pointer;
            transition: var(--transition);
            font-size: 0.9rem;
            width: 100%;
            border: 1px solid transparent;
            position: relative;
        }

        .bot-question:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateX(5px);
            border-color: rgba(255, 255, 255, 0.1);
        }

        .bot-question::before {
            content: 'üí°';
            margin-right: 8px;
            font-size: 0.8rem;
        }

        /* Category grouping visual cues */
        .bot-question[data-question*="-help"]::before {
            content: 'üéÆ';
        }

        .bot-question[data-question="recommendation"]::before,
        .bot-question[data-question="quick-game"]::before,
        .bot-question[data-question="multiplayer"]::before {
            content: '‚≠ê';
        }

        .bot-question[data-question="beginner-friendly"]::before,
        .bot-question[data-question="challenging"]::before {
            content: 'üìä';
        }

        .bot-question[data-question="high-scores"]::before,
        .bot-question[data-question="strategy"]::before {
            content: 'üèÜ';
        }

        .bot-question[data-question="how-to-play"]::before,
        .bot-question[data-question="controls"]::before,
        .bot-question[data-question="sound-music"]::before {
            content: '‚ùì';
        }

        .bot-question[data-question="fun-fact"]::before,
        .bot-question[data-question="popular"]::before {
            content: 'üòä';
        }

        /* Music Toggle */
        .music-toggle {
            position: fixed;
            bottom: 30px;
            left: 30px;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: var(--card-bg);
            border: none;
            color: white;
            font-size: 1.2rem;
            cursor: pointer;
            backdrop-filter: blur(10px);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 999;
        }

        .music-toggle:hover {
            transform: scale(1.1);
            background: rgba(255, 255, 255, 0.2);
        }

        /* Music Playing Animation */
        .music-toggle.playing {
            background: var(--accent-color);
            animation: musicPulse 2s infinite;
        }

        /* Animations */
        @keyframes pulse {
            0%, 100% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.05);
            }
        }

        @keyframes typing {
            0%, 60%, 100% {
                transform: translateY(0);
                opacity: 0.6;
            }
            30% {
                transform: translateY(-5px);
                opacity: 1;
            }
        }

        @keyframes musicPulse {
            0%, 100% {
                box-shadow: 0 0 0 0 rgba(253, 121, 168, 0.7);
            }
            50% {
                box-shadow: 0 0 0 10px rgba(253, 121, 168, 0);
            }
        }

        /* Responsive Styles */
        @media (max-width: 768px) {
            .container {
                padding: 15px;
            }
            
            .games-grid {
                grid-template-columns: repeat(auto-fill, minmax(240px, 1fr));
                gap: 20px;
            }
            
            .game-card {
                padding: 20px 15px;
            }
            
            .game-icon {
                width: 70px;
                height: 70px;
                font-size: 1.8rem;
            }
            
            .game-card h3 {
                font-size: 1.2rem;
            }
            
            .bot-assistant {
                width: 320px;
            }
            
            .page-header {
                margin-bottom: 20px;
            }
            
            .header-center h1 {
                font-size: 1.5rem;
            }
        }

        @media (max-width: 480px) {
            .games-grid {
                grid-template-columns: 1fr;
                gap: 15px;
            }
            
            .bot-container {
                bottom: 20px;
                right: 20px;
            }
            
            .music-toggle {
                bottom: 20px;
                left: 20px;
            }
            
            .bot-assistant {
                width: 280px;
                right: -10px;
            }
            
            .bot-questions {
                max-height: 250px;
            }
        }

        @media (max-width: 360px) {
            .bot-assistant {
                width: 260px;
                right: -20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header with back and exit buttons -->
        <header class="page-header">
            <div class="header-left">
                <button class="btn-back" id="btnBack">
                    <i class="fas fa-arrow-left"></i>
                </button>
            </div>
            <div class="header-center">
                <h1>Choose Your Game</h1>
            </div>
            <div class="header-right">
                <button class="btn-exit" id="btnExit">
                    <i class="fas fa-times"></i>
                </button>
            </div>
        </header>

        <!-- Games Grid -->
        <main class="games-content">
            <div class="games-grid">
                <div class="game-card" data-game="snake">
                    <div class="game-icon">
                        <i class="fas fa-stroopwafel"></i>
                    </div>
                    <h3>Snake</h3>
                    <p>Classic snake game with a modern twist</p>
                    <div class="game-badge">Popular</div>
                </div>
                
                <div class="game-card" data-game="draft">
                    <div class="game-icon">
                        <i class="fas fa-chess"></i>
                    </div>
                    <h3>Draft</h3>
                    <p>Strategic Checkers - African version</p>
                    <div class="game-badge">Kinjili Special</div>
                </div>
                
                <div class="game-card" data-game="ludo">
                    <div class="game-icon">
                        <i class="fas fa-dice"></i>
                    </div>
                    <h3>Ludo</h3>
                    <p>Classic board game for all ages</p>
                    <div class="game-badge">Milah11 Special</div>
                </div>
                
                <div class="game-card" data-game="matchingcards">
                    <div class="game-icon">
                        <i class="fas fa-clone"></i>
                    </div>
                    <h3>Matching Cards</h3>
                    <p>Test your memory with card matching</p>
                </div>
                
                <div class="game-card" data-game="fruitsmatching">
                    <div class="game-icon">
                        <i class="fas fa-apple-alt"></i>
                    </div>
                    <h3>Candy Crush</h3>
                    <p>Swap Fruits to match 3 in a row</p>
                </div>
                
                <div class="game-card" data-game="cup-shuffle">
                    <div class="game-icon">
                        <i class="fas fa-mug-hot"></i>
                    </div>
                    <h3>Cup Shuffle</h3>
                    <p>Find the hidden ball</p>
                    <div class="game-badge">New</div>
                </div>
            </div>
        </main>

        <!-- Enhanced Bot Assistant -->
        <div class="bot-container">
            <button class="bot-toggle" id="botToggle">
                <i class="fas fa-question-circle"></i>
            </button>
            <div class="bot-assistant" id="botAssistant">
                <div class="bot-header">
                    <h3>MO11 - <a href="https://www.instagram.com/mo_little11?igsh=MTZsdWhpeXg5ZGttYQ%3D%3D&utm_source=qr">#1011</a></h3>
                    <button class="bot-close" id="botClose">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <div class="bot-content">
                    <div class="bot-messages" id="botMessages">
                        <div class="bot-message">
                            <p>Looking for game recommendations? I can help!</p>
                        </div>
                    </div>
                    <div class="bot-questions">
                        <!-- Game Help Section -->
                        <button class="bot-question" data-question="snake-help">
                            <span>How to play Snake?</span>
                        </button>
                        <button class="bot-question" data-question="matching-help">
                            <span>How to play Matching Cards?</span>
                        </button>
                        <button class="bot-question" data-question="ludo-help">
                            <span>How to play Ludo?</span>
                        </button>
                        <button class="bot-question" data-question="candy-help">
                            <span>How to play Candy Crush?</span>
                        </button>
                        <button class="bot-question" data-question="checkers-help">
                            <span>How to play Checkers?</span>
                        </button>
                        <button class="bot-question" data-question="cup-help">
                            <span>How to play 3D Cup Shuffle?</span>
                        </button>
                        
                        <!-- Recommendations Section -->
                        <button class="bot-question" data-question="recommendation">
                            <span>Game recommendations</span>
                        </button>
                        <button class="bot-question" data-question="quick-game">
                            <span>Quick games (5 mins)</span>
                        </button>
                        <button class="bot-question" data-question="multiplayer">
                            <span>Multiplayer games</span>
                        </button>
                        
                        <!-- Difficulty Section -->
                        <button class="bot-question" data-question="beginner-friendly">
                            <span>Beginner-friendly games</span>
                        </button>
                        <button class="bot-question" data-question="challenging">
                            <span>Challenging games</span>
                        </button>
                        
                        <!-- Features Section -->
                        <button class="bot-question" data-question="high-scores">
                            <span>High score games</span>
                        </button>
                        <button class="bot-question" data-question="strategy">
                            <span>Strategy games</span>
                        </button>
                        
                        <!-- General Help Section -->
                        <button class="bot-question" data-question="how-to-play">
                            <span>How to play any game?</span>
                        </button>
                        <button class="bot-question" data-question="controls">
                            <span>Game controls</span>
                        </button>
                        <button class="bot-question" data-question="sound-music">
                            <span>Sound & music</span>
                        </button>
                        
                        <!-- Fun Section -->
                        <button class="bot-question" data-question="fun-fact">
                            <span>Fun facts</span>
                        </button>
                        <button class="bot-question" data-question="popular">
                            <span>Popular games</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Background Music -->
        <audio id="backgroundMusic" loop>
            <source src="assets/audio/background2.mp3" type="audio/mpeg">
            Your browser does not support the audio element.
        </audio>
        <button class="music-toggle" id="musicToggle">
            <i class="fas fa-volume-up"></i>
        </button>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Auto-play music functionality
            const backgroundMusic = document.getElementById('backgroundMusic');
            const musicToggle = document.getElementById('musicToggle');
            
            // Set music volume to 50% for better user experience
            backgroundMusic.volume = 0.5;
            
            // Auto-play music when page loads
            function autoPlayMusic() {
                const playPromise = backgroundMusic.play();
                
                if (playPromise !== undefined) {
                    playPromise.then(() => {
                        // Music started successfully
                        musicToggle.classList.add('playing');
                        musicToggle.innerHTML = '<i class="fas fa-volume-up"></i>';
                        console.log('Background music started automatically');
                    }).catch(error => {
                        // Auto-play was prevented, show muted state
                        console.log('Auto-play prevented:', error);
                        musicToggle.innerHTML = '<i class="fas fa-volume-mute"></i>';
                        
                        // Add click event to start music on user interaction
                        document.body.addEventListener('click', function startMusicOnClick() {
                            backgroundMusic.play().then(() => {
                                musicToggle.classList.add('playing');
                                musicToggle.innerHTML = '<i class="fas fa-volume-up"></i>';
                            }).catch(e => {
                                console.log('Manual play also failed:', e);
                            });
                            // Remove the event listener after first click
                            document.body.removeEventListener('click', startMusicOnClick);
                        }, { once: true });
                    });
                }
            }
            
            // Start auto-play
            autoPlayMusic();
            
            // Music Toggle Functionality
            let isMusicPlaying = true;
            
            musicToggle.addEventListener('click', function() {
                if (isMusicPlaying) {
                    backgroundMusic.pause();
                    musicToggle.classList.remove('playing');
                    musicToggle.innerHTML = '<i class="fas fa-volume-mute"></i>';
                } else {
                    backgroundMusic.play().catch(e => {
                        console.log("Audio play failed:", e);
                    });
                    musicToggle.classList.add('playing');
                    musicToggle.innerHTML = '<i class="fas fa-volume-up"></i>';
                }
                isMusicPlaying = !isMusicPlaying;
            });
            
            // Enhanced Bot Assistant Functionality
            const botToggle = document.getElementById('botToggle');
            const botAssistant = document.getElementById('botAssistant');
            const botClose = document.getElementById('botClose');
            const botMessages = document.getElementById('botMessages');
            const botQuestions = document.querySelectorAll('.bot-question');
            
            // Bot responses for games page
            const botResponses = {
                // Game-specific help
                "snake-help": "In Snake, use arrow keys to control your snake. Eat food to grow longer, but avoid hitting walls or your own tail! The game gets faster as you progress. Try to achieve the highest score possible!",
                
                "matching-help": "Matching Cards tests your memory! Flip cards to find matching pairs. Match all pairs with the fewest moves to get high scores. Use hints wisely - you only get 3 per game! Build combos for bonus points.",
                
                "ludo-help": "Ludo is a classic board game! Roll a 6 to move pieces out of home. Move around the board clockwise and capture opponents' pieces. First to get all 4 pieces to the center wins! Watch out for three consecutive 6s - they send all your pieces back home!",
                
                "candy-help": "Candy Crush is a sweet match-3 puzzle! Swap adjacent candies to make matches of 3 or more. Create special candies by matching 4 or 5 in a row. Complete level goals before running out of moves for the highest scores!",
                
                "checkers-help": "Checkers is a strategic board game! Move diagonally and capture opponents by jumping over their pieces. Reach the opposite side to become a King - they can move and capture both forward and backward! Remember: captures are mandatory when available.",
                
                "cup-help": "3D Cup Shuffle will test your observation skills! Watch carefully as cups shuffle in 3D space. Track the ball and select the correct cup after shuffling. Higher rounds have faster shuffles - stay focused to maintain your winning streak!",
                
                // Game recommendations
                "recommendation": "Based on popularity, I'd recommend:\n‚Ä¢ Snake for quick arcade fun\n‚Ä¢ Ludo for multiplayer enjoyment  \n‚Ä¢ Matching Cards to test your memory\n‚Ä¢ Candy Crush for puzzle lovers\n‚Ä¢ Checkers for strategic thinkers\n‚Ä¢ 3D Cup Shuffle for observation challenges",
                
                "quick-game": "For a quick 5-minute game, try:\n‚Ä¢ Snake (fast-paced action)\n‚Ä¢ Matching Cards (memory challenge)\n‚Ä¢ 3D Cup Shuffle (quick rounds)",
                
                "multiplayer": "For multiplayer fun:\n‚Ä¢ Ludo (2-4 players with AI options)\n‚Ä¢ Checkers (2-player strategy)\nPerfect for playing with friends!",
                
                // Difficulty levels
                "beginner-friendly": "Great starting games for beginners:\n‚Ä¢ Matching Cards (easy to learn)\n‚Ä¢ Candy Crush (colorful and fun)\n‚Ä¢ Snake (simple controls)",
                
                "challenging": "Looking for a challenge? Try:\n‚Ä¢ Checkers (deep strategy)\n‚Ä¢ Ludo (tactical decisions)\n‚Ä¢ 3D Cup Shuffle (observation skills)",
                
                // Game features
                "high-scores": "Compete for high scores in:\n‚Ä¢ Snake (endless scoring)\n‚Ä¢ Candy Crush (level-based)\n‚Ä¢ Matching Cards (efficiency matters)",
                
                "strategy": "Strategic games that require planning:\n‚Ä¢ Checkers (positional play)\n‚Ä¢ Ludo (risk management)\n‚Ä¢ Candy Crush (move optimization)",
                
                // General help
                "how-to-play": "Each game has detailed instructions! Click the 'How to Play' section in any game to learn the rules. The bot assistant (MO11 ü§ñ) is also available in each game for specific tips and strategies.",
                
                "controls": "Game controls vary:\n‚Ä¢ Mouse/Touch: Most games\n‚Ä¢ Arrow Keys: Snake game\n‚Ä¢ Both: Candy Crush & others\nEach game has optimized controls for your device!",
                
                "sound-music": "All games feature background music and sound effects! Use the music toggle button (üéµ) in the bottom-left to control audio. Sound enhances the gaming experience!",
                
                // Fun facts
                "fun-fact": "Did you know? GameNest features 6 completely different games, each with unique mechanics and challenges. From classic board games to modern puzzles, there's something for everyone!",
                
                "popular": "Most popular games this week:\n1. Snake üêç\n2. Candy Crush üç≠\n3. Ludo üé≤\nAll games are trending with players!",
                
                // Default response
                "default": "I'm here to help you with GameNest! Ask me about:\n‚Ä¢ Game rules and how to play\n‚Ä¢ Game recommendations\n‚Ä¢ Tips and strategies\n‚Ä¢ Controls and features\nJust tell me what you'd like to know! üéÆ"
            };

            // Toggle bot visibility
            botToggle.addEventListener('click', function() {
                botAssistant.classList.toggle('active');
            });
            
            // Close bot
            botClose.addEventListener('click', function() {
                botAssistant.classList.remove('active');
            });
            
            // Close bot when clicking outside
            document.addEventListener('click', function(event) {
                if (!botAssistant.contains(event.target) && !botToggle.contains(event.target) && botAssistant.classList.contains('active')) {
                    botAssistant.classList.remove('active');
                }
            });
            
            // Enhanced bot question handling
            botQuestions.forEach(question => {
                question.addEventListener('click', function() {
                    const questionType = this.getAttribute('data-question');
                    const response = botResponses[questionType] || botResponses["default"];
                    
                    // Create typing indicator
                    const typingIndicator = document.createElement('div');
                    typingIndicator.className = 'bot-message';
                    typingIndicator.innerHTML = `
                        <p>MO11 is typing<span class="typing-indicator">
                            <span class="typing-dot"></span>
                            <span class="typing-dot"></span>
                            <span class="typing-dot"></span>
                        </span></p>
                    `;
                    
                    botMessages.appendChild(typingIndicator);
                    botMessages.scrollTop = botMessages.scrollHeight;
                    
                    // Remove typing indicator and show response after delay
                    setTimeout(() => {
                        if (botMessages.contains(typingIndicator)) {
                            botMessages.removeChild(typingIndicator);
                        }
                        typeMessage(response);
                    }, 1500);
                });
            });
            
            // Enhanced typing function with line breaks support
            function typeMessage(message) {
                const messageElement = document.createElement('div');
                messageElement.className = 'bot-message';
                botMessages.appendChild(messageElement);
                
                let i = 0;
                const typingSpeed = 20; // milliseconds per character
                let currentLine = '';
                
                function typeCharacter() {
                    if (i < message.length) {
                        const char = message.charAt(i);
                        
                        if (char === '\n') {
                            // Handle line breaks
                            const lineBreak = document.createElement('br');
                            messageElement.appendChild(document.createTextNode(currentLine));
                            messageElement.appendChild(lineBreak);
                            currentLine = '';
                        } else {
                            currentLine += char;
                        }
                        
                        i++;
                        botMessages.scrollTop = botMessages.scrollHeight;
                        setTimeout(typeCharacter, typingSpeed);
                    } else {
                        // Add remaining text
                        if (currentLine) {
                            messageElement.appendChild(document.createTextNode(currentLine));
                        }
                    }
                }
                
                typeCharacter();
            }
            
            // Exit Button Functionality
            const exitButtons = document.querySelectorAll('#btnExit');
            exitButtons.forEach(button => {
                button.addEventListener('click', function() {
                    if (confirm('Are you sure you want to exit GameNest?')) {
                        // Stop music before exiting
                        backgroundMusic.pause();
                        // In a real application, this would close the app/window
                        alert('Thank you for visiting GameNest!');
                        window.location.href = 'index.html'; 
                    }
                });
            });
            
            // Back Button Functionality
            const backButton = document.getElementById('btnBack');
            backButton.addEventListener('click', function() {
                // In a real application, this would navigate back
                window.history.back();
            });
            
            // Game Card Click Functionality
            const gameCards = document.querySelectorAll('.game-card');
            gameCards.forEach(card => {
                card.addEventListener('click', function() {
                    const game = this.getAttribute('data-game');
                    
                    // Add click animation
                    this.style.transform = 'scale(0.95)';
                    setTimeout(() => {
                        this.style.transform = '';
                    }, 150);
                    
                    // Navigate to game page
                    setTimeout(() => {
                        window.location.href = `game-${game}.html`;
                    }, 300);
                });
            });
        });
    </script>
</body>
</html>